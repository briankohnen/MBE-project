<!DOCTYPE html>
<html>
<head>
   <meta charset='utf-8'>
   <meta http-equiv='X-UA-Compatible' content='IE=edge'>
   <title>Page Title</title>
   <meta name='viewport' content='width=device-width, initial-scale=1'>
   <link rel='stylesheet' type='text/css' media='screen' href='assets/css/style.css'>
   <script src="https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v5.3.0/build/ol.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>
<body>

   <h1>Find Events Near You</h1>

   <form class="searchBar">
       <input type="text" placeholder="Search..." name="search2">
       <button type="submit">submit</button>
     </form>

     <div class='gridContainer'>

      <div class="eventContainer">This is where the events will be placed.
        <ul id="eventsList">
            <li>
                Event 1
            </li>
            <li>
                Event 2
            </li>
            <li>
                Event 3
            </li>
          </ul>
      </div>

      <div class="mapPlacement" id="map"></div>

    </div>

     <script type="text/javascript">

    var myLat = 0;
    var myLong = 0;

     navigator.geolocation.getCurrentPosition(function(position) {
        myLat = position.coords.latitude;
        myLong = position.coords.longitude;

        var map = new ol.Map({
          target: 'map',
          layers: [
            new ol.layer.Tile({
              source: new ol.source.OSM()
            })
          ],
          view: new ol.View({
            center: ol.proj.fromLonLat([myLong, myLat]),
            zoom: 18
          })
        });

      });



      // 9gwVjFVNPFWKtx3D

    var queryURL = "https://app.ticketmaster.com/discovery/v2/events.json?keyword=music&postalCode=60640&apikey=7elxdku9GGG5k8j0Xm8KWdANDgecHMV0"


      $.ajax({
      url: queryURL,    
      method: "GET"
    }).then(function(response) {
        var results = response._embedded.events;
        console.log(results);
        for (var i = 0; i < results.length; i++) {

          var eventName = results[i].name;
          
          var eventLI = $("<li>" + eventName + "</li>");

          $("#eventsList").append(eventLI);

          var eventLocation = results[i]._embedded.venues[0].address.line1;
          var eventCoords = [results[i]._embedded.venues[0].location.longitude, results[i]._embedded.venues[0].location.latitude];
        }

        console.log(eventCoords);







    });
        </script>

<!-- <script src='app.js'></script> -->

</body>
</html>